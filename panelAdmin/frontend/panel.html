<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Panel de Administración - Cafetería</title>
  <link rel="stylesheet" href="panel.css">
</head>
<body>
  <!-- Sidebar -->
  <div class="sidebar">
    <h2>☕ Cafetería</h2>
    <ul>
      <li class="active" id="btnAdmin">Panel Administración</li>
    </ul>
  </div>

  <!-- Contenido principal -->
  <div class="main-content">
    <div class="panel-header">
      <h1>📋 Panel de Administración</h1>
      <button class="btn btn-nuevo" id="btnAbrirCrear">➕ Crear Pedido Manual</button>
    </div>

    <div class="tabla-container">
      <table id="tablaPedidos">
        <thead>
          <tr>
            <th>ID</th>
            <th>Usuario</th>
            <th>Correo</th>
            <th>Estado</th>
            <th>Fecha</th>
            <th>Total</th>
            <th>Acciones</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>

  <!-- === MODALES === -->

  <!-- Modal Ver -->
  <div id="modalVer" class="modal">
    <div class="modal-box">
      <span class="close" id="cerrarModalVer">&times;</span>
      <h2>Detalles del Pedido</h2>
      <div id="detallePedidoVer"></div>
    </div>
  </div>

  <!-- Modal Editar -->
  <div id="modalEditar" class="modal">
    <div class="modal-box">
      <span class="close" id="cerrarModalEditar">&times;</span>
      <h2>Editar Pedido</h2>
      <form id="formEditarPedido">
        <input type="hidden" id="editarIdPedido">
        <label for="editarEstado">Estado:</label>
        <select id="editarEstado">
          <option value="pendiente">Pendiente</option>
          <option value="en preparacion">En preparación</option>
          <option value="entregado">Entregado</option>
        </select>
        <div class="modal-actions">
          <button type="submit" class="btn btn-editar">Guardar Cambios</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal Pago -->
  <div id="modalPago" class="modal">
    <div class="modal-box">
      <span class="close" id="cerrarModalPago">&times;</span>
      <h2>Gestión de Pago</h2>
      <div id="detallePedidoPago"></div>
      <div class="modal-actions">
        <button id="btnCambiarPagado" class="btn btn-pagar">Cambiar a Pagado</button>
        <button id="btnEliminarPedido" class="btn btn-eliminar">Eliminar Pedido</button>
      </div>
    </div>
  </div>

  <!-- Modal Crear Pedido Manual -->
  <div id="modalCrear" class="modal">
    <div class="modal-box">
      <span class="close" id="cerrarModalCrear">&times;</span>
      <h2>Crear Pedido Manual</h2>
      <form id="formCrearPedido">
        <label for="id_usuario">ID Usuario:</label>
        <input type="number" id="id_usuario" placeholder="Ej: 1" required>

        <label for="id_producto">ID Producto:</label>
        <input type="number" id="id_producto" placeholder="Ej: 2" required>

        <label for="cantidad">Cantidad:</label>
        <input type="number" id="cantidad" min="1" value="1" required>

        <p style="font-size: 13px; color:#5d4037;">
          💡 Tip: asegúrate de que el <b>ID de usuario</b> y el <b>ID del producto</b> existan en la base de datos.
        </p>

        <div class="modal-actions">
          <button type="submit" class="btn btn-nuevo">Registrar Pedido</button>
        </div>
      </form>
    </div>
  </div>

  <script src="/panelAdmin/js/panel.js"></script>
</body>
</html>
